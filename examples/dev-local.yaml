# Local Development Environment Example
# This file shows how to configure WorkFX-AI for local development

# Override base values for local development
global:
  environment: "dev"
  cloudProvider: "local"
  imageRegistry: ""
  storageClass: "local-path"
  domain: "local.workfx.ai"

# Local development resource limits
workfx:
  api:
    replicas: 1
    resources:
      limits:
        cpu: "250m"
        memory: "256Mi"
      requests:
        cpu: "125m"
        memory: "128Mi"
  
  cdc:
    replicas: 1
    resources:
      limits:
        cpu: "125m"
        memory: "128Mi"
      requests:
        cpu: "64m"
        memory: "64Mi"
  
  idb:
    replicas: 1
    resources:
      limits:
        cpu: "125m"
        memory: "128Mi"
      requests:
        cpu: "64m"
        memory: "64Mi"

# Enable development tools for local development
devTools:
  enabled: true
  akhq:
    enabled: true
    resources:
      limits:
        cpu: "100m"
        memory: "128Mi"
      requests:
        cpu: "50m"
        memory: "64Mi"
  
  kibana:
    enabled: true
    resources:
      limits:
        cpu: "100m"
        memory: "128Mi"
      requests:
        cpu: "50m"
        memory: "64Mi"

# Basic monitoring for local development
monitoring:
  enabled: true
  prometheus:
    enabled: true
    resources:
      limits:
        cpu: "100m"
        memory: "128Mi"
      requests:
        cpu: "50m"
        memory: "64Mi"
  
  grafana:
    enabled: true
    resources:
      limits:
        cpu: "100m"
        memory: "128Mi"
      requests:
        cpu: "50m"
        memory: "64Mi"

# Local storage configuration
storage:
  enabled: true
  type: "local"
  size: "500Mi"

# Self-hosted database for local development
postgresql:
  enabled: true
  image:
    repository: "pgvector/pgvector"
    tag: "0.6.0-pg16"
  primary:
    resources:
      limits:
        cpu: "250m"
        memory: "256Mi"
      requests:
        cpu: "125m"
        memory: "128Mi"
    persistence:
      enabled: true
      size: "1Gi"

# Self-hosted Redis for local development
redis:
  enabled: true
  image:
    repository: "bitnami/redis"
    tag: "7.2.11-debian-11-r0"
  master:
    resources:
      limits:
        cpu: "125m"
        memory: "128Mi"
      requests:
        cpu: "64m"
        memory: "64Mi"
    persistence:
      enabled: true
      size: "500Mi"

# Self-hosted Elasticsearch for local development
elasticsearch:
  enabled: true
  image:
    repository: "docker.elastic.co/elasticsearch/elasticsearch"
    tag: "8.11.0"
  master:
    replicas: 1
    resources:
      limits:
        cpu: "250m"
        memory: "256Mi"
      requests:
        cpu: "125m"
        memory: "128Mi"
    persistence:
      enabled: true
      size: "1Gi"

# Self-hosted Kafka for local development
kafka:
  enabled: true
  image:
    repository: "bitnami/kafka"
    tag: "3.6.0-debian-11-r0"
  broker:
    replicas: 1
    resources:
      limits:
        cpu: "250m"
        memory: "256Mi"
      requests:
        cpu: "125m"
        memory: "128Mi"
    persistence:
      enabled: true
      size: "1Gi"
  
  zookeeper:
    enabled: true
    image:
      repository: "bitnami/zookeeper"
      tag: "3.9.0-debian-11-r0"
    replicas: 1
    resources:
      limits:
        cpu: "125m"
        memory: "128Mi"
      requests:
        cpu: "64m"
        memory: "64Mi"
    persistence:
      enabled: true
      size: "500Mi"

# Local development security (minimal)
security:
  networkPolicy:
    enabled: false
  rbac:
    enabled: true
    create: true
  secrets:
    enabled: false

# Disable HPA for local development
workfx:
  api:
    autoscaling:
      enabled: false
  cdc:
    autoscaling:
      enabled: false
  idb:
    autoscaling:
      enabled: false
